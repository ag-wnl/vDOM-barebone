"use strict";var g=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var V=(t,e)=>{for(var c in e)g(t,c,{get:e[c],enumerable:!0})},k=(t,e,c,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of N(e))!L.call(t,n)&&n!==c&&g(t,n,{get:()=>e[n],enumerable:!(i=E(e,n))||i.enumerable});return t};var w=t=>k(g({},"__esModule",{value:!0}),t);var P={};V(P,{block:()=>v,h:()=>C,render:()=>x});module.exports=w(P);var C=(t,e={},...c)=>({type:t,props:e,children:c}),y=class{key;constructor(e){this.key=e}},v=t=>{let e=new Proxy({},{get(o,d){return new y(d)}}),c=t(e),i=[],n=x(c,i);return o=>{let d=new Array(i.length),m=new Map;return{mount:f=>{let p=n.cloneNode(!0);f.textContent="",f.appendChild(p);for(let a=0;a<i.length;a++){let s=i[a],r=p;for(let l=0;l<s.path.length;l++)r=r.childNodes[s.path[l]];d[a]=r;let u=o[s.hole];if(s.type==="attribute")if(s.attribute.startsWith("on")){let l=s.attribute.slice(2).toLowerCase(),h=typeof u=="function"?u:o[u];h&&(r.addEventListener(l,h),m.set(l,h))}else r[s.attribute]=u;else if(s.type==="child")if(u.mount&&typeof u.mount=="function")u.mount(r);else{let l=document.createTextNode(u);r.insertBefore(l,r.childNodes[s.index])}}},patch:f=>{for(let p=0;p<i.length;p++){let a=i[p],s=o[a.hole],r=f.props[a.hole];if(s===r)continue;let u=d[p];if(a.type==="attribute")if(a.attribute.startsWith("on")){let l=a.attribute.slice(2).toLowerCase(),h=m.get(l),b=typeof r=="function"?r:f.props[r];h&&(u.removeEventListener(l,h),m.delete(l)),b&&(u.addEventListener(l,b),m.set(l,b))}else u[a.attribute]=r;else a.type==="child"&&(s&&typeof s=="object"&&s.patch?s.patch(f.edits[p].hole):u.childNodes[a.index].textContent=String(r))}},props:o,edits:i}}},x=(t,e=[],c=[])=>{if(typeof t=="string")return document.createTextNode(t);let i=document.createElement(t.type);if(t.props)for(let n in t.props){let o=t.props[n];if(n.startsWith("on")){if(o instanceof y)e.push({type:"attribute",path:c,attribute:n,hole:o.key});else if(typeof o=="function"){e.push({type:"attribute",path:c,attribute:n,hole:o});let d=n.slice(2).toLowerCase();i.addEventListener(d,o)}continue}o instanceof y?e.push({type:"attribute",path:c,attribute:n,hole:o.key}):i[n]=o}for(let n=0;n<t.children?.length;n++){let o=t.children[n];o instanceof y?e.push({type:"child",path:c,index:n,hole:o.key}):i.appendChild(x(o,e,[...c,n]))}return i};0&&(module.exports={block,h,render});
//# sourceMappingURL=index.js.map